<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Tuna & Chels — PokeMMO ShinyDex</title>

<link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">

<style>
  :root {
    --bg:#080808;
    --panel:#111;
    --accent:#36c;
    --text:#eee;
    --card:#1a1a1a;
  }

  body {
    font-family: 'VT323', monospace;
    background: var(--bg);
    color: var(--text);
    margin: 0;
    padding: 1rem;
    line-height: 1.4;
  }

  h1 {
    text-align: center;
    font-size: 2.4rem;
    margin: 1rem 0;
  }

  .trainer-wrapper {
    flex: 1 1 100%;
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: center;
  }

  section.trainer-section {
    background: var(--panel);
    border-radius: 14px;
    padding: 1.6rem;
    box-shadow: 0 6px 24px rgba(0,0,0,0.6);
    flex: 1 1 420px;
    max-width: 600px;
    min-width: 360px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .trainer-section h2 {
    font-size: 1.6rem;
    margin: 0 0 .4rem 0;
  }

  .trainer-section .count {
    font-size: 1.1rem;
    margin-bottom: 1rem;
    color: var(--accent);
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(88px, 1fr));
    gap: .75rem;
    width: 100%;
  }

  .poke-card {
    background: var(--card);
    border-radius: 8px;
    padding: .4rem;
    text-align: center;
    transition: transform .2s, box-shadow .2s;
    display: flex;
    flex-direction: column;
    align-items: center;
    border: 2px solid transparent;
    cursor: pointer;
  }

  .poke-card:hover, .poke-card:focus {
    transform: translateY(-3px);
    box-shadow: 0 0 12px var(--accent);
    border-color: var(--accent);
    outline: none;
  }

  .dexnum {
    font-size: .8rem;
    opacity: .8;
  }

  .sprite {
    width: 64px;
    height: 64px;
    image-rendering: pixelated;
  }

  .pokename {
    font-size: 1rem;
    margin-top: .2rem;
    display: flex;
    align-items: center;
    gap: .2rem;
  }

  .icon {
    width: 14px;
    height: 14px;
  }

  #info-panel {
    margin: 2rem auto;
    background: var(--panel);
    padding: 1.2rem;
    border-radius: 12px;
    max-width: 720px;
    text-align: center;
    box-shadow: 0 0 12px rgba(0,0,0,.6);
  }
</style>
</head>
<body>
  <h1>🌟 Tuna & Chels — PokeMMO ShinyDex 🌟</h1>

  <div class="trainer-wrapper">
    <section class="trainer-section">
      <h2>Chels</h2>
      <div id="chels-shiny-count" class="count"></div>
      <div id="chels-grid" class="grid"></div>
    </section>

    <section class="trainer-section">
      <h2>Tuna</h2>
      <div id="tuna-shiny-count" class="count"></div>
      <div id="tuna-grid" class="grid"></div>
    </section>

    <section class="trainer-section">
      <h2>Muted</h2>
      <div id="muted-shiny-count" class="count"></div>
      <div id="muted-grid" class="grid"></div>
    </section>

    <section class="trainer-section">
      <h2>Autistic</h2>
      <div id="autistic-shiny-count" class="count"></div>
      <div id="autistic-grid" class="grid"></div>
    </section>
  </div>

  <div id="info-panel">Hover over a shiny to see its details here.</div>

<script>
const secretStar = "⭐";
const fishingRod = "🎣";

// Example shinies data (replace with your real list)
const shinies = [
  {trainer:"Chels", dex:147, name:"Dratini", file:"dratini", icons:[secretStar]},
  {trainer:"Chels", dex:149, name:"Dragonite", file:"dragonite"},
  {trainer:"Tuna", dex:199, name:"Slowking", file:"slowking", icons:[fishingRod]},
  {trainer:"Muted", dex:210, name:"Granbull", file:"granbull"},
  {trainer:"Autistic", dex:230, name:"Kingdra", file:"kingdra"}
];

function getSpriteUrl(p) {
  const name = p.file.toLowerCase();
  const gen2 = `https://img.pokemondb.net/sprites/other-gen2/shiny/${name}.gif`;
  const bwAnim = `https://img.pokemondb.net/sprites/black-white/anim/shiny/${name}.gif`;
  return { gen2, bwAnim };
}

function buildTrainerGrid(trainerName, containerId, countId){
  const container = document.getElementById(containerId);
  const countEl = document.getElementById(countId);
  const filtered = shinies.filter(p => p.trainer === trainerName);
  countEl.textContent = `ShinyDex: ${filtered.length}`;
  filtered.sort((a,b) => a.dex - b.dex);
  container.innerHTML = '';

  filtered.forEach(p => {
    const card = document.createElement('button');
    card.className = 'poke-card';
    card.type = 'button';
    card.setAttribute('aria-label', `${p.name} #${p.dex} caught by ${p.trainer}`);

    const num = document.createElement('div');
    num.className = 'dexnum';
    num.textContent = `#${String(p.dex).padStart(3,'0')}`;

    const img = document.createElement('img');
    img.className = 'sprite';
    const { gen2, bwAnim } = getSpriteUrl(p);
    img.src = gen2;
    img.alt = `${p.name} shiny sprite`;
    img.onerror = () => { img.src = bwAnim; };

    const nameDiv = document.createElement('div');
    nameDiv.className = 'pokename';
    nameDiv.textContent = p.name;

    if (p.icons) {
      p.icons.forEach(icon => {
        const iconEl = document.createElement('img');
        iconEl.className = 'icon';
        iconEl.src = icon;
        nameDiv.appendChild(iconEl);
      });
    }

    card.append(num, img, nameDiv);
    container.appendChild(card);

    card.addEventListener('mouseenter', () => updateInfoPanel(p));
    card.addEventListener('focus', () => updateInfoPanel(p));
  });
}

function updateInfoPanel(p) {
  const panel = document.getElementById("info-panel");
  panel.innerHTML = `
    <h3>${p.name} (#${p.dex})</h3>
    <p>Trainer: ${p.trainer}</p>
    <img src="https://img.pokemondb.net/sprites/other-gen2/shiny/${p.file}.gif"
         alt="${p.name} shiny sprite" style="width:96px;height:96px;image-rendering:pixelated;"
         onerror="this.src='https://img.pokemondb.net/sprites/black-white/anim/shiny/${p.file}.gif'">
  `;
}

// Build grids
["Chels","Tuna","Muted","Autistic"].forEach(name => {
  buildTrainerGrid(name, name.toLowerCase()+"-grid", name.toLowerCase()+"-shiny-count");
});
</script>
</body>
</html>
